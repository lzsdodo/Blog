<!DOCTYPE html><html class="theme-next mist use-motion" lang="en"><head><meta name="generator" content="Hexo 3.8.0"><meta charset="UTF-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width,initial-scale=1,maximum-scale=2"><meta name="theme-color" content="#222"><meta http-equiv="Cache-Control" content="no-transform"><meta http-equiv="Cache-Control" content="no-siteapp"><link href="//cdn.jsdelivr.net/fancybox/2.1.5/jquery.fancybox.min.css" rel="stylesheet" type="text/css"><link href="//cdn.jsdelivr.net/npm/font-awesome@4.7.0/css/font-awesome.min.css" rel="stylesheet" type="text/css"><link href="/css/main.css?v=6.3.0" rel="stylesheet" type="text/css"><link rel="apple-touch-icon" sizes="180x180" href="/images/apple-touch-icon-next.png?v=6.3.0"><link rel="icon" type="image/png" sizes="32x32" href="/images/favicon_32x32.png?v=6.3.0"><link rel="icon" type="image/png" sizes="16x16" href="/images/favicon_16x16.png?v=6.3.0"><link rel="mask-icon" href="/images/logo.svg?v=6.3.0" color="#222"><script type="text/javascript" id="hexo.configurations">var NexT=window.NexT||{},CONFIG={root:"/",scheme:"Mist",version:"6.3.0",sidebar:{position:"left",display:"hide",offset:12,b2t:!1,scrollpercent:!1,onmobile:!1},fancybox:!0,fastclick:!1,lazyload:!1,tabs:!0,motion:{enable:!0,async:!1,transition:{post_block:"fadeIn",post_header:"slideDownIn",post_body:"slideDownIn",coll_header:"slideLeftIn",sidebar:"slideUpIn"}},algolia:{applicationID:"",apiKey:"",indexName:"",hits:{per_page:10},labels:{input_placeholder:"Search for Posts",hits_empty:"We didn't find any results for the search: ${query}",hits_stats:"${hits} results found in ${time} ms"}}}</script><meta name="description" content="[TOC]     GTD 的哲学 GTD 是什么 GTD 基本原则 五个流程   关于 OmniFocus OmniFocus 个人设置（仅供参考） Projects 项目 Contexts 情景 透视 我的工作流   一些他人的提醒 创业团队的时间管理 Reference：       GTD and OmniFocus我只是大自然的搬运工。    Summarize by Zachary C"><meta name="keywords" content="GTD,OmniFocus,Efficiency"><meta property="og:type" content="article"><meta property="og:title" content="GTD and OmniFocus"><meta property="og:url" content="https://blog.zsliang.me/posts/4372d2e6/index.html"><meta property="og:site_name" content="Dodo&#39;s Blog"><meta property="og:description" content="[TOC]     GTD 的哲学 GTD 是什么 GTD 基本原则 五个流程   关于 OmniFocus OmniFocus 个人设置（仅供参考） Projects 项目 Contexts 情景 透视 我的工作流   一些他人的提醒 创业团队的时间管理 Reference：       GTD and OmniFocus我只是大自然的搬运工。    Summarize by Zachary C"><meta property="og:locale" content="en"><meta property="og:image" content="http://upload-images.jianshu.io/upload_images/80247-a81c7f3431826585.jpg?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240"><meta property="og:image" content="http://upload-images.jianshu.io/upload_images/80247-053654454abac9ee.jpg?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240"><meta property="og:updated_time" content="2019-04-21T04:46:15.000Z"><meta name="twitter:card" content="summary"><meta name="twitter:title" content="GTD and OmniFocus"><meta name="twitter:description" content="[TOC]     GTD 的哲学 GTD 是什么 GTD 基本原则 五个流程   关于 OmniFocus OmniFocus 个人设置（仅供参考） Projects 项目 Contexts 情景 透视 我的工作流   一些他人的提醒 创业团队的时间管理 Reference：       GTD and OmniFocus我只是大自然的搬运工。    Summarize by Zachary C"><meta name="twitter:image" content="http://upload-images.jianshu.io/upload_images/80247-a81c7f3431826585.jpg?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240"><link rel="alternate" href="/atom.xml" title="Dodo's Blog" type="application/atom+xml"><link rel="canonical" href="https://blog.zsliang.me/posts/4372d2e6/"><script type="text/javascript" id="page.configurations">CONFIG.page={sidebar:""}</script><title>GTD and OmniFocus | Dodo's Blog</title><noscript><style type="text/css">.sidebar-inner,.use-motion .brand,.use-motion .collection-title,.use-motion .comments,.use-motion .menu-item,.use-motion .motion-element,.use-motion .pagination,.use-motion .post-block,.use-motion .post-body,.use-motion .post-header{opacity:initial}.use-motion .logo,.use-motion .site-subtitle,.use-motion .site-title{opacity:initial;top:initial}.logo-line-after i{right:initial}</style></noscript></head><body itemscope="" itemtype="http://schema.org/WebPage" lang="en"><div class="container sidebar-position-left page-post-detail"><div class="headband"></div><header id="header" class="header" itemscope="" itemtype="http://schema.org/WPHeader"><div class="header-inner"><div class="site-brand-wrapper"><div class="site-meta"><div class="custom-logo-site-title"><a href="/" class="brand" rel="start"><span class="logo-line-before"><i></i></span> <span class="site-title">Dodo's Blog</span><span class="logo-line-after"><i></i></span></a></div></div><div class="site-nav-toggle"> <button aria-label="Toggle navigation bar"><span class="btn-bar"></span><span class="btn-bar"></span><span class="btn-bar"></span></button></div></div><nav class="site-nav"><ul id="menu" class="menu"><li class="menu-item menu-item-home"> <a href="/" rel="section">HOME</a></li><li class="menu-item menu-item-archives"> <a href="/archives/" rel="section">ARCHIVE</a></li><li class="menu-item menu-item-categories"> <a href="/categories/" rel="section">CATEGORY</a></li><li class="menu-item menu-item-tags"> <a href="/tags/" rel="section">TAG</a></li><li class="menu-item menu-item-rss"> <a href="/atom.xml" rel="section">RSS</a></li><li class="menu-item menu-item-search"> <a href="javascript:;" class="popup-trigger">SEARCH</a></li></ul><div class="site-search"><div class="popup search-popup local-search-popup"><div class="local-search-header clearfix"><span class="search-icon"><i class="fa fa-search"></i></span><span class="popup-btn-close"><i class="fa fa-times-circle"></i></span><div class="local-search-input-wrapper"> <input autocomplete="off" placeholder="Searching..." spellcheck="false" type="text" id="local-search-input"></div></div><div id="local-search-result"></div></div></div></nav></div></header> <a href="https://github.com/lzsdodo" class="github-corner" target="_blank" title="Follow me" aria-label="Follow me" rel="external nofollow noopener noreferrer"><svg width="80" height="80" viewbox="0 0 250 250" style="fill:#222;color:#fff;position:absolute;top:0;border:0;right:0" aria-hidden="true"><path d="M0 0 115 115 130 115 142 142 250 250 250 0Z"/><path d="M128.3 109C113.8 99.7 119 89.6 119 89.6 122 82.7 120.5 78.6 120.5 78.6 119.2 72 123.4 76.3 123.4 76.3 127.3 80.9 125.5 87.3 125.5 87.3 122.9 97.6 130.6 101.9 134.4 103.2" fill="currentColor" style="transform-origin:130px 106px" class="octo-arm"/><path d="M115 115C114.9 115.1 118.7 116.5 119.8 115.4L133.7 101.6C136.9 99.2 139.9 98.4 142.2 98.6 133.8 88 127.5 74.4 143.8 58 148.5 53.4 154 51.2 159.7 51 160.3 49.4 163.2 43.6 171.4 40.1 171.4 40.1 176.1 42.5 178.8 56.2 183.1 58.6 187.2 61.8 190.9 65.4 194.5 69 197.7 73.2 200.1 77.6 213.8 80.2 216.3 84.9 216.3 84.9 212.7 93.1 206.9 96 205.4 96.6 205.1 102.4 203 107.8 198.3 112.5 181.9 128.9 168.3 122.5 157.7 114.1 157.9 116.9 156.7 120.9 152.7 124.9L141 136.5C139.8 137.7 141.6 141.9 141.8 141.8Z" fill="currentColor" class="octo-body"/></svg></a><main id="main" class="main"><div class="main-inner"><div class="content-wrap"><div id="content" class="content"><div id="posts" class="posts-expand"><article class="post post-type-normal" itemscope="" itemtype="http://schema.org/Article"><div class="post-block"><link itemprop="mainEntityOfPage" href="https://blog.zsliang.me/posts/4372d2e6/"><span hidden itemprop="author" itemscope="" itemtype="http://schema.org/Person"><meta itemprop="name" content="Zachary"><meta itemprop="description" content="Hello World."><meta itemprop="image" content="/images/avatar.png"></span><span hidden itemprop="publisher" itemscope="" itemtype="http://schema.org/Organization"><meta itemprop="name" content="Dodo's Blog"></span><header class="post-header"><h1 class="post-title" itemprop="name headline">GTD and OmniFocus</h1><div class="post-meta"><span class="post-time"><span class="post-meta-item-icon"><i class="fa fa-calendar-o"></i></span> <span class="post-meta-item-text">Posted on</span> <time title="Created: 2015-10-22 00:00:00" itemprop="dateCreated datePublished" datetime="2015-10-22T00:00:00-04:00">2015-10-22</time></span> <span class="post-category"><span class="post-meta-divider">|</span><span class="post-meta-item-icon"><i class="fa fa-folder-o"></i></span> <span class="post-meta-item-text">In</span> <span itemprop="about" itemscope="" itemtype="http://schema.org/Thing"><a href="/categories/Tools/" itemprop="url" rel="index"><span itemprop="name">Tools</span></a></span></span></div></header><div class="post-body" itemprop="articleBody"><p>[TOC]</p><div class="toc"><ul><li><a href="#gtd-de-zhe-xue">GTD 的哲学</a><ul><li><a href="#gtd-shi-shi-me">GTD 是什么</a></li><li><a href="#gtd-ji-ben-yuan-ze">GTD 基本原则</a></li><li><a href="#wu-ge-liu-cheng">五个流程</a></li></ul></li><li><a href="#guan-yu-omnifocus">关于 OmniFocus</a></li><li><a href="#omnifocus-ge-ren-she-zhi-jin-gong-can-kao">OmniFocus 个人设置（仅供参考）</a><ul><li><a href="#projects-xiang-mu">Projects 项目</a></li><li><a href="#contexts-qing-jing">Contexts 情景</a></li><li><a href="#tou-shi">透视</a></li><li><a href="#wo-de-gong-zuo-liu">我的工作流</a></li></ul></li><li><a href="#yi-xie-ta-ren-de-ti-xing">一些他人的提醒</a></li><li><a href="#chuang-ye-tuan-dui-de-shi-jian-guan-li">创业团队的时间管理</a></li><li><a href="#reference">Reference：</a></li></ul></div><hr><blockquote><p>GTD and OmniFocus<br><em>我只是大自然的搬运工</em>。</p></blockquote><ul><li>Summarize by Zachary</li><li>Completed on Oct. 22, 2015</li></ul><hr><h2><span id="gtd-de-zhe-xue">GTD 的哲学</span><a href="#gtd-de-zhe-xue" class="header-anchor">#</a></h2><h3><span id="gtd-shi-shi-me">GTD 是什么</span><a href="#gtd-shi-shi-me" class="header-anchor">#</a></h3><blockquote><p>GTD 是 Getting Things Done 的缩写，是一种行为管理的方法。<br>GTD 主要原则在于，通过记录的方式把头脑中的各种任务移出来，<strong>集中精力在正在完成的事情</strong>。</p></blockquote><p>GTD 最大的特点就是将我们的大脑从存储和统筹的工作中解放出来。<br>不再用大脑去思考“<em>我要做什么</em> ”或者“ <em>现在我该做什么</em> ”。<br> 而专注于“<strong>把当前这件事情做好</strong>”。</p><h3><span id="gtd-ji-ben-yuan-ze">GTD 基本原则</span><a href="#gtd-ji-ben-yuan-ze" class="header-anchor">#</a></h3><blockquote><p><strong>不要把提升行动力寄托在 GTD 上，就像不要把拥有幸福寄托在别人的身上一样。</strong></p></blockquote><h3><span id="wu-ge-liu-cheng">五个流程</span><a href="#wu-ge-liu-cheng" class="header-anchor">#</a></h3><ol><li><p><strong>收集 Collect</strong></p><ul><li>所有被执行的事情，都存放到一个 <strong>“收件箱 Inbox”</strong> 里面。</li><li>清空大脑碎片，留待随后整理，保持大脑无压力状态。</li><li>另外 Inbox 要 <strong>定期清空</strong>，否则堆积如山就失去意义。</li></ul></li><li><p><strong>处理 Process</strong></p><ul><li>处理 Inbox 需要一个严谨的过程。</li><li>要判断 <strong>“是否需要去做？”</strong><ul><li>不需要。丢弃 <code>Trash</code> / 作为资料存档 <code>Refenrence</code> / 时机成熟再说 <code>Someday/Maybe</code> 。</li><li>需要。立即去做 <code>Action</code> / 委托给别人 <code>Delegate</code> / 延期处理 <code>Defer</code> 。</li></ul></li><li>处理要及时、彻底，才能让整个工作流顺畅运转。</li></ul></li><li><p><strong>组织 Organize</strong></p><ul><li>组织是一个动态发展的持续过程。</li><li>主要形式：建立和管理若干的 <strong>List</strong> 用于执行的参考。</li><li><strong>项目</strong> <code>Projects</code>，有条理的处理事情；</li><li><strong>下一步行动</strong> <code>Next Action</code>,，清晰找到可执行目标；</li><li><strong>等待</strong> <code>Waiting for</code>，需要关注和跟踪；</li><li><strong>“将来 / 可能</strong> <code>Someday/Maybe</code>，需要定期回顾。</li></ul></li><li><p><strong>检查 Review</strong></p><ul><li>计划不如变化快，面对时刻变化的目标，我们需要经常的进行“检查”。至少一周进行一次定期“检查”，才能让我们的“项目和行动列表”与不断变换的环境保持一致。Omnifocus for iPad 的 Review 功能十分惊艳，据说很快也将移植到其他版本中去。</li></ul></li><li><p><strong>执行 Execute</strong></p><ul><li>不去“做”的 GTD 都是纸上谈兵，有了之前几个步骤的实现，剩下的就是放松大脑，专注的去把手头的事情做好了！</li></ul></li></ol><hr><h2><span id="guan-yu-omnifocus">关于 OmniFocus</span><a href="#guan-yu-omnifocus" class="header-anchor">#</a></h2><blockquote><p>OmniFocus 和 2Do List 的区别</p><blockquote><p>OmniFocus 可以分解项目、任务直到行动、一起用情境重新组织行动、一起回顾，贯穿做事的整个过程。<br>GTD 方法有五个流程，六个高度，这是也人生的高度，随着高度的爬升使用 OmniFocus 的方法会完全不同，看看项目文件夹的分类和情境分类就知道了。<br>2Do List 永远告诉你的是「还有这些事要做」。</p></blockquote></blockquote><blockquote><p>OmniFocus 特点</p><blockquote><p>快速收集<br> 云同步（MacOS、iPhone…软硬加起来真是贵死了。。。）<br>无限层级嵌套（管理多个项目你就知道好处了。。。）<br>透视（OmniFocus 最强大的功能，定制化看任务）</p></blockquote></blockquote><blockquote><p>OmniFocus 使用哲学</p><blockquote><p>不同类型的人，侧重点不同。<br>角色特征 -&gt; 关键流程 -&gt; 技巧</p></blockquote></blockquote><hr><h2><span id="omnifocus-ge-ren-she-zhi-jin-gong-can-kao">OmniFocus 个人设置（仅供参考）</span><a href="#omnifocus-ge-ren-she-zhi-jin-gong-can-kao" class="header-anchor">#</a></h2><h3><span id="projects-xiang-mu">Projects 项目</span><a href="#projects-xiang-mu" class="header-anchor">#</a></h3><ol><li>Ability</li><li>Work</li><li><p>Ritual</p><blockquote><p>重复事项，多结合 <strong>四象限法则 - 重要不紧急</strong> 情景</p></blockquote></li><li><p>Sundries</p></li></ol><h3><span id="contexts-qing-jing">Contexts 情景</span><a href="#contexts-qing-jing" class="header-anchor">#</a></h3><ol><li>Office<ol><li>Eat Frog / Highest Priority</li><li>Tomato Time</li></ol></li><li>Home<ol><li>High Energy</li><li>Brain Dead</li></ol></li><li>Outward<ol><li>Meeting</li><li>Supermarket / Bank</li></ol></li><li><p>Important but not Urgent</p><blockquote><p>四象限法则</p><blockquote><p>重要且紧急，一般直接标 <strong>旗标</strong> （透视）。<br> 重要但不紧急，一般放 <strong>仪式</strong>（透视），重要在于此。</p></blockquote></blockquote></li><li><p>Delegate with People</p></li><li>On-hold / Waiting</li></ol><h3><span id="tou-shi">透视</span><a href="#tou-shi" class="header-anchor">#</a></h3><ol><li><p>旗标</p><ul><li>《Eat That Frog》，每天早上完成最重要的任务，Most Important Task。</li><li>每天最多三个青蛙，有空就想办法搞定。</li></ul></li><li><p>仪式</p><ul><li>周期行为。</li></ul></li><li><p>追踪</p><ul><li>关于人，指派任务并且反馈。</li></ul></li><li><p>预测</p><ul><li>与时间有关。</li></ul></li></ol><h3><span id="wo-de-gong-zuo-liu">我的工作流</span><a href="#wo-de-gong-zuo-liu" class="header-anchor">#</a></h3><blockquote><p>旗标 -&gt; 截止日期 -&gt; 情景 -&gt; 项目（聚焦）</p></blockquote><ul><li>流程化和系统化才能解放大脑，建立个人工作流。</li></ul><hr><h2><span id="yi-xie-ta-ren-de-ti-xing">一些他人的提醒</span><a href="#yi-xie-ta-ren-de-ti-xing" class="header-anchor">#</a></h2><ul><li><p>挖掘技能的实质所在</p><ul><li>找到关键的「小事」。<ul><li>对于得分后卫来说，关键小事是远距离投篮；</li><li>对于中锋来说，关键小事是背身单打；</li><li>对于销售员来说，关键小事是沟通；</li><li>对于当前的职位与身份，你的关键小事是什么？</li></ul></li><li>用正确的方法去做“小事”。<ul><li>比如篮球运动员用正确的方式练习投篮；</li><li>我们也要用正确的方法来面对琐碎的事情，做事靠系统，这是基本功。</li></ul></li></ul></li><li><p>就像开头说的，对于刚开始做项目管理的人来说，比较痛苦的就是职位升了，工作方式没有升级。</p><ul><li>把关注点从「做事」，转到「做人」</li><li>把行动的重点从「搞定」，转到「检视」</li></ul></li></ul><h2><span id="chuang-ye-tuan-dui-de-shi-jian-guan-li">创业团队的时间管理</span><a href="#chuang-ye-tuan-dui-de-shi-jian-guan-li" class="header-anchor">#</a></h2><blockquote><p>常见问题：</p><ol><li>过于自由的工作状态<blockquote><p>项目紧迫感不强，计划的事情总到最后一刻才完成。</p></blockquote></li></ol></blockquote><blockquote><ol start="2"><li>团队成员之间会互相干扰<blockquote><p>工作状态一但被打破，很难再次进入专注状态。</p></blockquote></li></ol></blockquote><blockquote><ol start="3"><li>无法预估计划进度<blockquote><p>整体进度带来了不确定性。</p></blockquote></li></ol></blockquote><ul><li><p>解决方案</p><ol><li><p>倒推的方法重新建立里程碑</p><ul><li><p>问题的关键是：团队对挑战和危机有没有统一的认识？</p><p><img src="http://upload-images.jianshu.io/upload_images/80247-a81c7f3431826585.jpg?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240" alt=""></p></li></ul></li><li><p>任务看板 + 每周例会</p><ul><li>每周例会：讨论项目进度和下周计划</li><li><p>看板管理：每周任务上墙，把规划、进度、任务分配展示 (Trello 是个好东西)</p><p><img src="http://upload-images.jianshu.io/upload_images/80247-053654454abac9ee.jpg?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240" alt=""></p></li></ul></li><li><p>番茄工作法 + 收集篮 + 免打扰牌</p><ul><li>实体的收集篮，专注工作的时候尽量不要打扰！</li></ul></li></ol></li></ul><h2><span id="reference">Reference：</span><a href="#reference" class="header-anchor">#</a></h2><ol><li><a href="http://www.gtdlife.com/2013/3157/how-to-improve-productivity-use-omnifocus/" rel="external nofollow noopener noreferrer" target="_blank">如何使用 Omnifocus 做时间管理—系列</a></li><li><a href="http://www.douban.com/note/271699848/" rel="external nofollow noopener noreferrer" target="_blank">工具控的福音—Omnifocus 使用心得总结—系列</a></li><li><a href="http://1banban.net/post/9838247397" rel="external nofollow noopener noreferrer" target="_blank">GTD 和 Omnifocus 的那些事儿—系列</a></li><li><a href="http://omnifocus.oes2t.org/part01.html" rel="external nofollow noopener noreferrer" target="_blank">OmniFocus Series</a></li><li><a href="http://v.youku.com/v_show/id_XMzQ0NjY3OTg0.html" rel="external nofollow noopener noreferrer" target="_blank">OmniFocus 基础篇、进阶篇—系列</a></li></ol><p><br \=""><strong>Author:&nbsp;Zachary</strong><br \=""><strong>Post link:&nbsp;</strong> <a href="https://blog.zsliang.me/posts/4372d2e6/">https://blog.zsliang.me/posts/4372d2e6/</a><br \=""><strong>Copyright:&nbsp;</strong>All articles in this blog are licensed under <a target="_blank" rel="external nofollow noopener noreferrer" href="https://creativecommons.org/licenses/by-nc-sa/4.0/"><b>CC BY-NC-SA 4.0</b></a> unless stating additionally.<br \=""></p></div><footer class="post-footer"><div class="post-tags"> <a href="/tags/GTD/" rel="tag"># GTD</a> <a href="/tags/OmniFocus/" rel="tag"># OmniFocus</a> <a href="/tags/Efficiency/" rel="tag"># Efficiency</a></div><div class="post-nav"><div class="post-nav-next post-nav-item"><a href="/posts/f089bae3/" rel="next" title="TED - The power of vulnerability"><i class="fa fa-chevron-left"></i> TED - The power of vulnerability</a></div><span class="post-nav-divider"></span><div class="post-nav-prev post-nav-item"> <a href="/posts/99724ebd/" rel="prev" title="如何高效学习">如何高效学习<i class="fa fa-chevron-right"></i></a></div></div></footer></div></article><div class="post-spread"></div></div></div></div><div class="sidebar-toggle"><div class="sidebar-toggle-line-wrap"><span class="sidebar-toggle-line sidebar-toggle-line-first"></span><span class="sidebar-toggle-line sidebar-toggle-line-middle"></span><span class="sidebar-toggle-line sidebar-toggle-line-last"></span></div></div><aside id="sidebar" class="sidebar"><div class="sidebar-inner"><ul class="sidebar-nav motion-element"><li class="sidebar-nav-toc sidebar-nav-active" data-target="post-toc-wrap"> Table of Contents</li></ul><section class="site-overview-wrap sidebar-panel"><div class="site-overview"></div></section><section class="post-toc-wrap motion-element sidebar-panel sidebar-panel-active"><div class="post-toc"><div class="post-toc-content"><ol class="nav"><li class="nav-item nav-level-2"><a class="nav-link" href="#undefined"><span class="nav-number">1.</span> <span class="nav-text">GTD 的哲学#</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#undefined"><span class="nav-number">1.1.</span> <span class="nav-text">GTD 是什么#</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#undefined"><span class="nav-number">1.2.</span> <span class="nav-text">GTD 基本原则#</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#undefined"><span class="nav-number">1.3.</span> <span class="nav-text">五个流程#</span></a></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#undefined"><span class="nav-number">2.</span> <span class="nav-text">关于 OmniFocus#</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#undefined"><span class="nav-number">3.</span> <span class="nav-text">OmniFocus 个人设置（仅供参考）#</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#undefined"><span class="nav-number">3.1.</span> <span class="nav-text">Projects 项目#</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#undefined"><span class="nav-number">3.2.</span> <span class="nav-text">Contexts 情景#</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#undefined"><span class="nav-number">3.3.</span> <span class="nav-text">透视#</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#undefined"><span class="nav-number">3.4.</span> <span class="nav-text">我的工作流#</span></a></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#undefined"><span class="nav-number">4.</span> <span class="nav-text">一些他人的提醒#</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#undefined"><span class="nav-number">5.</span> <span class="nav-text">创业团队的时间管理#</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#undefined"><span class="nav-number">6.</span> <span class="nav-text">Reference：#</span></a></li></ol></div></div></section></div></aside></div></main><footer id="footer" class="footer"><div class="footer-inner"><div class="copyright">&copy; 1969 &mdash; <span itemprop="copyrightYear">2019</span><span class="with-love" id="animate"><i class="fa fa-heart"></i></span> <span class="author" itemprop="copyrightHolder"><a target="_blank" rel="external nofollow noopener noreferrer" href="https://en.wikipedia.org/wiki/Internet"><b>Internet</b></a></span></div><div class="footer-custom">Hosted by <a target="_blank" rel="external nofollow" href="https://zsliang.me"><b>Curiosity</b></a>&emsp;|&emsp;Powered by <a href="https://hexo.io" rel="external nofollow noopener noreferrer" target="_blank"><b>Hexo</b></a>&emsp;|&emsp;Theme — <a href="https://theme-next.org" rel="external nofollow noopener noreferrer" target="_blank"><b>NexT</b></a></div></div></footer><div class="back-to-top"><i class="fa fa-arrow-up"></i></div></div><script type="text/javascript">"[object Function]"!==Object.prototype.toString.call(window.Promise)&&(window.Promise=null)</script><script type="text/javascript" src="//cdn.jsdelivr.net/npm/jquery@2.1.3/dist/jquery.min.js"></script><script type="text/javascript" src="//cdn.jsdelivr.net/npm/velocity-animate@1.5.1/velocity.min.js"></script><script type="text/javascript" src="//cdn.jsdelivr.net/npm/velocity-ui-pack@1.2.2/velocity.ui.min.js"></script><script type="text/javascript" src="//cdn.jsdelivr.net/fancybox/2.1.5/jquery.fancybox.pack.js"></script><script type="text/javascript" src="/js/src/utils.js?v=6.3.0"></script><script type="text/javascript" src="/js/src/motion.js?v=6.3.0"></script><script type="text/javascript" src="/js/src/scrollspy.js?v=6.3.0"></script><script type="text/javascript" src="/js/src/post-details.js?v=6.3.0"></script><script type="text/javascript" src="/js/src/bootstrap.js?v=6.3.0"></script><script type="text/javascript">
    // Popup Window;
    var isfetched = false;
    var isXml = true;
    // Search DB path;
    var search_path = "search.xml";
    if (search_path.length === 0) {
      search_path = "search.xml";
    } else if (/json$/i.test(search_path)) {
      isXml = false;
    }
    var path = "/" + search_path;
    // monitor main search box;

    var onPopupClose = function (e) {
      $('.popup').hide();
      $('#local-search-input').val('');
      $('.search-result-list').remove();
      $('#no-result').remove();
      $(".local-search-pop-overlay").remove();
      $('body').css('overflow', '');
    }

    function proceedsearch() {
      $("body")
        .append('<div class="search-popup-overlay local-search-pop-overlay"></div>')
        .css('overflow', 'hidden');
      $('.search-popup-overlay').click(onPopupClose);
      $('.popup').toggle();
      var $localSearchInput = $('#local-search-input');
      $localSearchInput.attr("autocapitalize", "none");
      $localSearchInput.attr("autocorrect", "off");
      $localSearchInput.focus();
    }

    // search function;
    var searchFunc = function(path, search_id, content_id) {
      'use strict';

      // start loading animation
      $("body")
        .append('<div class="search-popup-overlay local-search-pop-overlay">' +
          '<div id="search-loading-icon">' +
          '<i class="fa fa-spinner fa-pulse fa-5x fa-fw"></i>' +
          '</div>' +
          '</div>')
        .css('overflow', 'hidden');
      $("#search-loading-icon").css('margin', '20% auto 0 auto').css('text-align', 'center');

      

      $.ajax({
        url: path,
        dataType: isXml ? "xml" : "json",
        async: true,
        success: function(res) {
          // get the contents from search data
          isfetched = true;
          $('.popup').detach().appendTo('.header-inner');
          var datas = isXml ? $("entry", res).map(function() {
            return {
              title: $("title", this).text(),
              content: $("content",this).text(),
              url: $("url" , this).text()
            };
          }).get() : res;
          var input = document.getElementById(search_id);
          var resultContent = document.getElementById(content_id);
          var inputEventFunction = function() {
            var searchText = input.value.trim().toLowerCase();
            var keywords = searchText.split(/[\s\-]+/);
            if (keywords.length > 1) {
              keywords.push(searchText);
            }
            var resultItems = [];
            if (searchText.length > 0) {
              // perform local searching
              datas.forEach(function(data) {
                var isMatch = false;
                var hitCount = 0;
                var searchTextCount = 0;
                var title = data.title.trim();
                var titleInLowerCase = title.toLowerCase();
                var content = data.content.trim().replace(/<[^>]+>/g,"");
                
                var contentInLowerCase = content.toLowerCase();
                var articleUrl = decodeURIComponent(data.url);
                var indexOfTitle = [];
                var indexOfContent = [];
                // only match articles with not empty titles
                if(title != '') {
                  keywords.forEach(function(keyword) {
                    function getIndexByWord(word, text, caseSensitive) {
                      var wordLen = word.length;
                      if (wordLen === 0) {
                        return [];
                      }
                      var startPosition = 0, position = [], index = [];
                      if (!caseSensitive) {
                        text = text.toLowerCase();
                        word = word.toLowerCase();
                      }
                      while ((position = text.indexOf(word, startPosition)) > -1) {
                        index.push({position: position, word: word});
                        startPosition = position + wordLen;
                      }
                      return index;
                    }

                    indexOfTitle = indexOfTitle.concat(getIndexByWord(keyword, titleInLowerCase, false));
                    indexOfContent = indexOfContent.concat(getIndexByWord(keyword, contentInLowerCase, false));
                  });
                  if (indexOfTitle.length > 0 || indexOfContent.length > 0) {
                    isMatch = true;
                    hitCount = indexOfTitle.length + indexOfContent.length;
                  }
                }

                // show search results

                if (isMatch) {
                  // sort index by position of keyword

                  [indexOfTitle, indexOfContent].forEach(function (index) {
                    index.sort(function (itemLeft, itemRight) {
                      if (itemRight.position !== itemLeft.position) {
                        return itemRight.position - itemLeft.position;
                      } else {
                        return itemLeft.word.length - itemRight.word.length;
                      }
                    });
                  });

                  // merge hits into slices

                  function mergeIntoSlice(text, start, end, index) {
                    var item = index[index.length - 1];
                    var position = item.position;
                    var word = item.word;
                    var hits = [];
                    var searchTextCountInSlice = 0;
                    while (position + word.length <= end && index.length != 0) {
                      if (word === searchText) {
                        searchTextCountInSlice++;
                      }
                      hits.push({position: position, length: word.length});
                      var wordEnd = position + word.length;

                      // move to next position of hit

                      index.pop();
                      while (index.length != 0) {
                        item = index[index.length - 1];
                        position = item.position;
                        word = item.word;
                        if (wordEnd > position) {
                          index.pop();
                        } else {
                          break;
                        }
                      }
                    }
                    searchTextCount += searchTextCountInSlice;
                    return {
                      hits: hits,
                      start: start,
                      end: end,
                      searchTextCount: searchTextCountInSlice
                    };
                  }

                  var slicesOfTitle = [];
                  if (indexOfTitle.length != 0) {
                    slicesOfTitle.push(mergeIntoSlice(title, 0, title.length, indexOfTitle));
                  }

                  var slicesOfContent = [];
                  while (indexOfContent.length != 0) {
                    var item = indexOfContent[indexOfContent.length - 1];
                    var position = item.position;
                    var word = item.word;
                    // cut out 100 characters
                    var start = position - 20;
                    var end = position + 80;
                    if(start < 0){
                      start = 0;
                    }
                    if (end < position + word.length) {
                      end = position + word.length;
                    }
                    if(end > content.length){
                      end = content.length;
                    }
                    slicesOfContent.push(mergeIntoSlice(content, start, end, indexOfContent));
                  }

                  // sort slices in content by search text's count and hits' count

                  slicesOfContent.sort(function (sliceLeft, sliceRight) {
                    if (sliceLeft.searchTextCount !== sliceRight.searchTextCount) {
                      return sliceRight.searchTextCount - sliceLeft.searchTextCount;
                    } else if (sliceLeft.hits.length !== sliceRight.hits.length) {
                      return sliceRight.hits.length - sliceLeft.hits.length;
                    } else {
                      return sliceLeft.start - sliceRight.start;
                    }
                  });

                  // select top N slices in content

                  var upperBound = parseInt('5');
                  if (upperBound >= 0) {
                    slicesOfContent = slicesOfContent.slice(0, upperBound);
                  }

                  // highlight title and content

                  function highlightKeyword(text, slice) {
                    var result = '';
                    var prevEnd = slice.start;
                    slice.hits.forEach(function (hit) {
                      result += text.substring(prevEnd, hit.position);
                      var end = hit.position + hit.length;
                      result += '<b class="search-keyword">' + text.substring(hit.position, end) + '</b>';
                      prevEnd = end;
                    });
                    result += text.substring(prevEnd, slice.end);
                    return result;
                  }

                  var resultItem = '';

                  if (slicesOfTitle.length != 0) {
                    resultItem += "<li><a href='" + articleUrl + "' class='search-result-title'>" + highlightKeyword(title, slicesOfTitle[0]) + "</a>";
                  } else {
                    resultItem += "<li><a href='" + articleUrl + "' class='search-result-title'>" + title + "</a>";
                  }

                  slicesOfContent.forEach(function (slice) {
                    resultItem += "<a href='" + articleUrl + "'>" +
                      "<p class=\"search-result\">" + highlightKeyword(content, slice) +
                      "...</p>" + "</a>";
                  });

                  resultItem += "</li>";
                  resultItems.push({
                    item: resultItem,
                    searchTextCount: searchTextCount,
                    hitCount: hitCount,
                    id: resultItems.length
                  });
                }
              })
            };
            if (keywords.length === 1 && keywords[0] === "") {
              resultContent.innerHTML = '<div id="no-result"><i class="fa fa-search fa-5x" /></div>'
            } else if (resultItems.length === 0) {
              resultContent.innerHTML = '<div id="no-result"><i class="fa fa-frown-o fa-5x" /></div>'
            } else {
              resultItems.sort(function (resultLeft, resultRight) {
                if (resultLeft.searchTextCount !== resultRight.searchTextCount) {
                  return resultRight.searchTextCount - resultLeft.searchTextCount;
                } else if (resultLeft.hitCount !== resultRight.hitCount) {
                  return resultRight.hitCount - resultLeft.hitCount;
                } else {
                  return resultRight.id - resultLeft.id;
                }
              });
              var searchResultList = '<ul class=\"search-result-list\">';
              resultItems.forEach(function (result) {
                searchResultList += result.item;
              })
              searchResultList += "</ul>";
              resultContent.innerHTML = searchResultList;
            }
          }

          if ('auto' === 'auto') {
            input.addEventListener('input', inputEventFunction);
          } else {
            $('.search-icon').click(inputEventFunction);
            input.addEventListener('keypress', function (event) {
              if (event.keyCode === 13) {
                inputEventFunction();
              }
            });
          }

          // remove loading animation
          $(".local-search-pop-overlay").remove();
          $('body').css('overflow', '');

          proceedsearch();
        }
      });
    }

    // handle and trigger popup window;
    $('.popup-trigger').click(function(e) {
      e.stopPropagation();
      if (isfetched === false) {
        searchFunc(path, 'local-search-input', 'local-search-result');
      } else {
        proceedsearch();
      };
    });

    $('.popup-btn-close').click(onPopupClose);
    $('.popup').click(function(e){
      e.stopPropagation();
    });
    $(document).on('keyup', function (event) {
      var shouldDismissSearchPopup = event.which === 27 &&
        $('.search-popup').is(':visible');
      if (shouldDismissSearchPopup) {
        onPopupClose();
      }
    });
  </script><script type="text/x-mathjax-config">
    MathJax.Hub.Config({
      tex2jax: {
        inlineMath: [ ['$','$'], ["\\(","\\)"]  ],
        processEscapes: true,
        skipTags: ['script', 'noscript', 'style', 'textarea', 'pre', 'code']
      },
      TeX: {equationNumbers: { autoNumber: "AMS" }}
    });
</script><script type="text/x-mathjax-config">
    MathJax.Hub.Queue(function() {
      var all = MathJax.Hub.getAllJax(), i;
        for (i=0; i < all.length; i += 1) {
          all[i].SourceElement().parentNode.className += ' has-jax';
        }
    });
</script><script type="text/javascript" src="//cdn.jsdelivr.net/npm/mathjax@2.7.1/MathJax.js?config=TeX-AMS-MML_HTMLorMML"></script><script type="text/javascript" src="/js/src/js.cookie.js?v=6.3.0"></script><script type="text/javascript" src="/js/src/scroll-cookie.js?v=6.3.0"></script></body></html>